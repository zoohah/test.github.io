<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2ì°¨ì‹œ: ë§ˆë²• ê¸°í˜¸ë¡œ ì§€íœ˜í•´ìš”! - ì¸í„°ë™í‹°ë¸Œ ìˆ˜ì—… ë„êµ¬</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; background-color: #FDFBF7; color: #4A4A4A; }
        .slide-transition { transition: opacity 0.5s ease-in-out; }
        .chart-container { position: relative; width: 100%; max-width: 500px; margin: 0 auto; height: 300px; }
        
        /* Custom shapes for non-SVG graphics */
        .shape-star { color: #FFD700; text-shadow: 2px 2px 0px #DAA520; font-size: 5rem; }
        .shape-circle { color: #FF6B6B; text-shadow: 2px 2px 0px #C92A2A; font-size: 5rem; }
        .shape-triangle { color: #4DADF7; text-shadow: 2px 2px 0px #1864AB; font-size: 5rem; }
        
        .train-car {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .train-car:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        .train-car.active-scan { border-color: #F59F00; background-color: #FFF9DB; transform: scale(1.1); }
        
        .teacher-note {
            background-color: #F8F9FA;
            border-left: 4px solid #FCC419;
            font-style: italic;
        }
        
        /* Animation classes */
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        .animate-bounce-custom { animation: bounce 1s infinite; }
        
        @keyframes pulse-ring {
            0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(255, 130, 130, 0.7); }
            70% { transform: scale(1); box-shadow: 0 0 0 10px rgba(255, 130, 130, 0); }
            100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(255, 130, 130, 0); }
        }
        .pulse-effect { animation: pulse-ring 2s infinite; }
    </style>
    <!-- Chosen Palette: Warm Neutrals (Cream/Beige #FDFBF7) with Playful Accents (Yellow, Red, Blue) for children's engagement. -->
    <!-- Application Structure Plan: The app is designed as a "Digital Teacher's Dashboard & Presentation Tool". 
         Structure:
         1. Overview Dashboard: Shows the time distribution (Chart.js) and lesson goal (from Report Part 1).
         2. Interactive Slide Deck: Sequentially follows the PPT guide (Parts 1-6). 
            - Includes interactive elements for "Quiz" (Part 2), "Sticker Board" (Part 3), and "Scanning Demo" (Part 5) to replace static slides with active learning tools.
         3. Teacher Controls: Always visible notes/scripts from the report to guide the instructor.
         Why: This structure allows the teacher to manage the 90-minute class flow while projecting engaging visuals for the 6-year-old students. -->
    <!-- Visualization & Content Choices:
         1. Time Distribution Chart (Doughnut): Visualize the 90-min breakdown (Intro, Dev 1, Dev 2, Break, Closing) to help the teacher manage pacing.
         2. Interactive Symbol Cards: Replace static images with clickable cards to reveal meanings (Part 2).
         3. Random Symbol Generator: Gamifies Slide 8 (Quiz) for engagement.
         4. Digital Sticker Train: Implements Slide 9-10 as a drag-and-drop style interface. NO SVG used, just CSS styled divs.
         5. Scanning Animation: Visually demonstrates the "Baton" concept (Slide 12) using CSS class switching via JS. 
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="flex flex-col min-h-screen">

    <!-- Navigation / Header -->
    <header class="bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4 py-3 flex justify-between items-center">
            <h1 class="text-xl font-bold text-gray-800 flex items-center">
                <span class="text-2xl mr-2">ğŸµ</span> [2ì°¨ì‹œ] ë§ˆë²• ê¸°í˜¸ë¡œ ì§€íœ˜í•´ìš”!
            </h1>
            <div class="flex items-center space-x-4">
                <div class="hidden md:block text-sm text-gray-500">
                    ì§„í–‰ë¥ : <span id="progress-text">0%</span>
                </div>
                <div class="w-32 bg-gray-200 rounded-full h-2.5 hidden md:block">
                    <div id="progress-bar" class="bg-yellow-400 h-2.5 rounded-full" style="width: 0%"></div>
                </div>
                <button id="overview-btn" class="bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded text-sm font-medium transition">
                    ìˆ˜ì—… ê°œìš” ë³´ê¸°
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="flex-grow flex flex-col items-center justify-center p-4 w-full max-w-5xl mx-auto">
        
        <!-- Dashboard / Overview View (Hidden by default) -->
        <div id="overview-view" class="w-full hidden animate-fade-in">
            <div class="bg-white rounded-2xl shadow-lg p-8 mb-6">
                <h2 class="text-2xl font-bold mb-4 text-gray-800 border-b pb-2">ìˆ˜ì—… ê°œìš” ë° ì‹œê°„ ê³„íš</h2>
                <p class="mb-6 text-gray-600">
                    ì´ ì„¹ì…˜ì€ ì„ ìƒë‹˜ì„ ìœ„í•œ ìˆ˜ì—… ë¡œë“œë§µì…ë‹ˆë‹¤. ì´ 90ë¶„ì˜ ìˆ˜ì—…ì´ ì–´ë–»ê²Œ êµ¬ì„±ë˜ì–´ ìˆëŠ”ì§€ í•œëˆˆì— íŒŒì•…í•˜ê³ , ê° ë‹¨ê³„ë³„ ì‹œê°„ ë°°ë¶„ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </p>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                    <div class="space-y-4">
                        <div class="bg-yellow-50 p-4 rounded-xl border border-yellow-100">
                            <h3 class="font-bold text-yellow-800 mb-2">í•™ìŠµ ëª©í‘œ</h3>
                            <ul class="list-disc list-inside text-gray-700 space-y-1">
                                <li><strong>ê¸°í˜¸(Symbol):</strong> ê·¸ë¦¼ì´ë‚˜ ìŠ¤í‹°ì»¤ê°€ ë™ì‘ì„ ë‚˜íƒ€ë‚´ëŠ” 'ì•½ì†'ì„ì„ ì´í•´í•©ë‹ˆë‹¤.</li>
                                <li><strong>ìŠ¤ìºë‹(Scanning):</strong> ì™¼ìª½ì—ì„œ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì½”ë“œë¥¼ ì½ëŠ” ê·œì¹™ì„ ìµí™ë‹ˆë‹¤.</li>
                            </ul>
                        </div>
                        <div class="bg-blue-50 p-4 rounded-xl border border-blue-100">
                            <h3 class="font-bold text-blue-800 mb-2">ì¤€ë¹„ë¬¼</h3>
                            <p class="text-gray-700">ì§€íœ˜ì ë´‰(ë§‰ëŒ€ê¸°), 8ì¹¸ ê¸°ì°¨ í™œë™ì§€, ìŠ¤í‹°ì»¤(ë³„, ë™ê·¸ë¼ë¯¸, ì„¸ëª¨)</p>
                        </div>
                    </div>
                    
                    <div class="flex flex-col items-center">
                        <h3 class="font-bold text-gray-700 mb-2">ì‹œê°„ ë°°ë¶„ (ì´ 90ë¶„)</h3>
                        <div class="chart-container">
                            <canvas id="timeChart"></canvas>
                        </div>
                    </div>
                </div>
                <div class="mt-8 text-center">
                    <button id="start-lesson-btn" class="bg-yellow-400 hover:bg-yellow-500 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition hover:scale-105 text-lg">
                        ìˆ˜ì—… ì‹œì‘í•˜ê¸° â–¶
                    </button>
                </div>
            </div>
        </div>

        <!-- Slide Presentation View -->
        <div id="slide-view" class="w-full max-w-4xl bg-white rounded-2xl shadow-xl overflow-hidden min-h-[600px] flex flex-col relative">
            
            <!-- Slide Content -->
            <div id="slide-content" class="flex-grow p-8 flex flex-col items-center justify-center text-center">
                <!-- Content injected via JS -->
            </div>

            <!-- Teacher Script / Guide Area (Collapsible) -->
            <div class="bg-gray-50 border-t border-gray-200 p-4">
                <div class="flex justify-between items-center cursor-pointer" onclick="toggleScript()">
                    <h3 class="text-sm font-bold text-gray-500 uppercase tracking-wide">ğŸ“ ì„ ìƒë‹˜ ê°€ì´ë“œ (í´ë¦­í•˜ì—¬ ì—´ê¸°/ì ‘ê¸°)</h3>
                    <span id="script-toggle-icon" class="text-gray-400">â–¼</span>
                </div>
                <div id="teacher-script-container" class="mt-2 text-left bg-white p-4 rounded border border-gray-200 shadow-sm text-gray-700 text-lg leading-relaxed hidden">
                    <!-- Script injected via JS -->
                </div>
            </div>

            <!-- Slide Navigation Controls -->
            <div class="bg-gray-100 p-4 flex justify-between items-center border-t border-gray-200">
                <button id="prev-btn" class="bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 disabled:opacity-50 font-medium">
                    â—€ ì´ì „
                </button>
                <span id="slide-indicator" class="font-mono text-gray-500 text-sm">1 / 17</span>
                <button id="next-btn" class="bg-gray-800 text-white px-6 py-2 rounded-lg hover:bg-gray-700 font-medium">
                    ë‹¤ìŒ â–¶
                </button>
            </div>
        </div>

    </main>

    <footer class="bg-white py-4 text-center text-gray-400 text-sm border-t border-gray-100">
        &copy; 2026 Kids Coding Lab | Canvas Interactive Lesson
    </footer>

    <script>
        // --- Data: Lesson Plan Content (Based on Lesson 2 PPT Guide) ---
        const lessonData = [
            // Part 1: Intro
            {
                part: "ë„ì… (10ë¶„)",
                title: "ë§ˆë²• ê¸°í˜¸ë¡œ ì§€íœ˜í•´ìš”! ğŸµ",
                type: "hero",
                content: `
                    <div class="space-y-6 animate-bounce-custom">
                        <div class="text-6xl">ğŸ©ğŸ¼</div>
                        <p class="text-xl text-gray-600">ì˜¤ëŠ˜ ìš°ë¦¬ëŠ” ë©‹ì§„ <strong>ì§€íœ˜ì</strong>ê°€ ë  ê±°ì˜ˆìš”!</p>
                    </div>
                `,
                script: "ì•ˆë…• ì¹œêµ¬ë“¤! ì˜¤ëŠ˜ì€ ìš°ë¦¬ê°€ ë©‹ì§„ ì§€íœ˜ìê°€ ë˜ì–´ ë³¼ ê±°ì˜ˆìš”! ëª¨ë‘ ì¤€ë¹„ëë‚˜ìš”?"
            },
            {
                part: "ë„ì…",
                title: "ìš°ë¦¬ë“¤ì˜ ì•½ì† ğŸ¤™",
                type: "info",
                content: `
                    <div class="grid grid-cols-2 gap-8 w-full max-w-2xl mt-4">
                        <div class="bg-green-50 p-6 rounded-2xl border-2 border-green-200 flex flex-col items-center">
                            <div class="text-5xl mb-4">ğŸ‘‚</div>
                            <h3 class="text-xl font-bold text-green-700">ì¹œêµ¬ ë§ ê²½ì²­í•˜ê¸°</h3>
                        </div>
                        <div class="bg-green-50 p-6 rounded-2xl border-2 border-green-200 flex flex-col items-center">
                            <div class="text-5xl mb-4">ğŸ¤²</div>
                            <h3 class="text-xl font-bold text-green-700">ë„êµ¬ ì†Œì¤‘íˆ ë‹¤ë£¨ê¸°</h3>
                        </div>
                    </div>
                `,
                script: "ì½”ë”© ì˜ˆìˆ ê°€ê°€ ë˜ê¸° ìœ„í•´ ê¼­ ì§€ì¼œì•¼ í•  ì•½ì†ì´ ìˆì–´ìš”. ì¹œêµ¬ê°€ ë§í•  ë• ê·€ë¥¼ ì«‘ê¸‹! êµêµ¬ëŠ” ì‚´ì‚´ ë‹¤ë¤„ì£¼ì„¸ìš”."
            },
            {
                part: "ë„ì…",
                title: "ì§€ë‚œ ì‹œê°„ ë³µìŠµ: ë¦¬ë“¬ ê¸°ì°¨ ğŸš‚",
                type: "info",
                content: `
                    <div class="text-center">
                        <div class="flex justify-center items-center space-x-2 mb-6">
                            <div class="w-16 h-16 bg-red-400 rounded-lg shadow-md flex items-center justify-center text-white font-bold">ë¹¨</div>
                            <div class="text-2xl text-gray-300">âœ</div>
                            <div class="w-16 h-16 bg-yellow-400 rounded-lg shadow-md flex items-center justify-center text-white font-bold">ë…¸</div>
                            <div class="text-2xl text-gray-300">âœ</div>
                            <div class="w-16 h-16 bg-blue-400 rounded-lg shadow-md flex items-center justify-center text-white font-bold">íŒŒ</div>
                        </div>
                        <p class="text-lg">ê¸°ì°¨ ì¹¸ì— ìƒ‰ê¹”ì„ <strong>ìˆœì„œëŒ€ë¡œ</strong> íƒœì› ë˜ ê²ƒ ê¸°ì–µë‚˜ë‚˜ìš”?</p>
                    </div>
                `,
                script: "ìˆœì„œëŒ€ë¡œ ì¹™ì¹™í­í­! ì§€ë‚œë²ˆì—” ìƒ‰ê¹” ê¸°ì°¨ë¥¼ ë§Œë“¤ì—ˆì£ ? ì˜¤ëŠ˜ì€ ë” íŠ¹ë³„í•œ ê±¸ ì‹¤ì–´ë³¼ ê±°ì˜ˆìš”."
            },
            // Part 2: Development 1
            {
                part: "ì „ê°œ 1: ê¸°í˜¸ì˜ ì´í•´ (20ë¶„)",
                title: "ê¸°í˜¸ê°€ ë­ì˜ˆìš”? ğŸ¤”",
                type: "interaction",
                content: `
                    <div class="flex flex-col items-center">
                        <div class="bg-gray-800 p-4 rounded-xl mb-4 w-24 flex flex-col items-center gap-2 shadow-lg">
                            <div class="w-16 h-16 bg-red-500 rounded-full animate-pulse shadow-[0_0_15px_rgba(239,68,68,0.6)]"></div>
                            <div class="w-16 h-16 bg-gray-600 rounded-full opacity-30"></div>
                            <div class="w-16 h-16 bg-gray-600 rounded-full opacity-30"></div>
                        </div>
                        <p class="text-xl font-bold mt-4">ë¹¨ê°„ë¶ˆì„ ë³´ë©´ ë©ˆì¶°ìš”! âœ‹</p>
                        <p class="text-gray-500 mt-2">ê·¸ë¦¼ìœ¼ë¡œ ì•½ì†í•œ ê²ƒì„ 'ê¸°í˜¸'ë¼ê³  í•´ìš”.</p>
                    </div>
                `,
                script: "ì‹ í˜¸ë“±ì˜ ë¹¨ê°„ìƒ‰ì„ ë³´ë©´ ìš°ë¦¬ëŠ” ì–´ë–»ê²Œ í•˜ì£ ? (ë©ˆì¶°ìš”!) ë§ì•„ìš”. ê·¸ë¦¼ìœ¼ë¡œ ì•½ì†í•œ ê²ƒì„ 'ê¸°í˜¸'ë¼ê³  í•´ìš”."
            },
            {
                part: "ì „ê°œ 1",
                title: "ìš°ë¦¬ ë°˜ ë§ˆë²• ê¸°í˜¸ 1: ë³„ â­",
                type: "card",
                content: `
                    <div class="p-10 bg-yellow-50 border-4 border-yellow-300 rounded-3xl flex flex-col items-center shadow-lg transform hover:scale-105 transition duration-300">
                        <div class="shape-star mb-4">â­</div>
                        <h2 class="text-3xl font-bold text-yellow-600">ë°˜ì§ë°˜ì§</h2>
                        <p class="text-gray-500 mt-2">ì†ì„ í”ë“¤ì–´ì£¼ì„¸ìš”!</p>
                    </div>
                `,
                script: "ì, ìš°ë¦¬ ë°˜ë§Œì˜ ì•½ì†! ì´ì œë¶€í„° ì´ ë³„ì„ ë³´ë©´ ì†ì„ ë°˜ì§ë°˜ì§ í”ë“œëŠ” ê±°ì˜ˆìš”!"
            },
            {
                part: "ì „ê°œ 1",
                title: "ìš°ë¦¬ ë°˜ ë§ˆë²• ê¸°í˜¸ 2: ë™ê·¸ë¼ë¯¸ â—",
                type: "card",
                content: `
                    <div class="p-10 bg-red-50 border-4 border-red-300 rounded-3xl flex flex-col items-center shadow-lg transform hover:scale-105 transition duration-300">
                        <div class="shape-circle mb-4">â—</div>
                        <h2 class="text-3xl font-bold text-red-600">ì§!</h2>
                        <p class="text-gray-500 mt-2">ë°•ìˆ˜ë¥¼ í•œ ë²ˆ ì³ìš”!</p>
                    </div>
                `,
                script: "ë™ê·¸ë¼ë¯¸ë¥¼ ë³´ë©´ ì–´ë–»ê²Œ í• ê¹Œìš”? ì§! í•˜ê³  ë°•ìˆ˜ë¥¼ í•œ ë²ˆ ì³ì£¼ì„¸ìš”."
            },
            {
                part: "ì „ê°œ 1",
                title: "ìš°ë¦¬ ë°˜ ë§ˆë²• ê¸°í˜¸ 3: ì„¸ëª¨ â–²",
                type: "card",
                content: `
                    <div class="p-10 bg-blue-50 border-4 border-blue-300 rounded-3xl flex flex-col items-center shadow-lg transform hover:scale-105 transition duration-300">
                        <div class="shape-triangle mb-4">â–²</div>
                        <h2 class="text-3xl font-bold text-blue-600">ì¿µ!</h2>
                        <p class="text-gray-500 mt-2">ë°œì„ í•œ ë²ˆ êµ´ëŸ¬ìš”!</p>
                    </div>
                `,
                script: "ë§ˆì§€ë§‰ ì„¸ëª¨ëŠ”? ì¿µ! í•˜ê³  ë°œì„ êµ´ëŸ¬ì£¼ì„¸ìš”."
            },
            {
                part: "ì „ê°œ 1",
                title: "ğŸ§™â€â™‚ï¸ ë§ˆë²•ì‚¬ í€´ì¦ˆ ê²Œì„!",
                type: "game-quiz",
                content: `
                    <div class="text-center w-full">
                        <div id="quiz-display" class="h-64 flex items-center justify-center mb-8 border-4 border-dashed border-gray-300 rounded-3xl bg-gray-50">
                            <span class="text-gray-400 text-xl">ë²„íŠ¼ì„ ëˆŒëŸ¬ ê¸°í˜¸ë¥¼ ë½‘ìœ¼ì„¸ìš”!</span>
                        </div>
                        <button onclick="playQuiz()" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-4 px-10 rounded-full shadow-lg text-xl transition transform hover:-translate-y-1">
                            ğŸ² ê¸°í˜¸ ë½‘ê¸°!
                        </button>
                    </div>
                `,
                script: "ì, ì„ ìƒë‹˜ì´ ë³´ì—¬ì£¼ëŠ” ê¸°í˜¸ë¥¼ ë³´ê³  ëª¸ìœ¼ë¡œ ëŒ€ë‹µí•´ ë³´ì„¸ìš”! ì¤€ë¹„~ ì‹œì‘!"
            },
            // Part 3: Development 2
            {
                part: "ì „ê°œ 2: ìŠ¤í‹°ì»¤ ì½”ë”© (30ë¶„)",
                title: "ë‚˜ë§Œì˜ ë§ˆë²• ì•…ë³´ ë§Œë“¤ê¸° ğŸ¼",
                type: "interaction-coding",
                content: `
                    <div class="w-full max-w-3xl">
                        <p class="text-center mb-4 text-gray-500">ì•„ë˜ì˜ ë¹ˆ ê¸°ì°¨ ì¹¸ì„ í´ë¦­í•´ì„œ ë§ˆë²• ê¸°í˜¸ë¥¼ ë„£ì–´ë³´ì„¸ìš”.</p>
                        
                        <!-- Train Display -->
                        <div class="flex justify-center space-x-2 mb-8 bg-gray-200 p-4 rounded-xl overflow-x-auto">
                            <div class="flex space-x-2" id="sticker-train-container">
                                <!-- Generated by JS -->
                            </div>
                        </div>

                        <!-- Sticker Palette -->
                        <div class="flex justify-center space-x-8">
                            <button onclick="setStickerTool('â­')" class="flex flex-col items-center p-4 bg-white rounded-xl shadow border hover:bg-yellow-50 focus:ring-4 ring-yellow-300">
                                <span class="text-4xl">â­</span>
                                <span class="text-sm font-bold mt-2">ë°˜ì§ë°˜ì§</span>
                            </button>
                            <button onclick="setStickerTool('â—')" class="flex flex-col items-center p-4 bg-white rounded-xl shadow border hover:bg-red-50 focus:ring-4 ring-red-300">
                                <span class="text-4xl text-red-500">â—</span>
                                <span class="text-sm font-bold mt-2">ì§!</span>
                            </button>
                            <button onclick="setStickerTool('â–²')" class="flex flex-col items-center p-4 bg-white rounded-xl shadow border hover:bg-blue-50 focus:ring-4 ring-blue-300">
                                <span class="text-4xl text-blue-500">â–²</span>
                                <span class="text-sm font-bold mt-2">ì¿µ!</span>
                            </button>
                            <button onclick="setStickerTool(null)" class="flex flex-col items-center p-4 bg-white rounded-xl shadow border hover:bg-gray-100 focus:ring-4 ring-gray-300">
                                <span class="text-4xl text-gray-400">ğŸ—‘ï¸</span>
                                <span class="text-sm font-bold mt-2">ì§€ìš°ê°œ</span>
                            </button>
                        </div>
                        <div class="text-center mt-4 font-bold text-lg text-purple-600" id="current-tool-display">ì„ íƒëœ ë„êµ¬: ì—†ìŒ</div>
                    </div>
                `,
                script: "ì—¬ëŸ¬ë¶„ì˜ ë„í™”ì§€ ê¸°ì°¨ì— ë³„, ì„¸ëª¨, ë™ê·¸ë¼ë¯¸ ìŠ¤í‹°ì»¤ë¥¼ ë§ˆìŒê» ë¶™ì—¬ë³´ì„¸ìš”. ì´ê²Œ ë°”ë¡œ 'ì½”ë”©'ì´ì—ìš”!"
            },
            {
                part: "ì „ê°œ 2",
                title: "ì£¼ì˜í•  ì ! â¬…ï¸ â¡ï¸",
                type: "info",
                content: `
                    <div class="flex flex-col items-center space-y-6">
                        <div class="text-8xl text-purple-500">ğŸš‚ ğŸ’¨ ğŸ’¨</div>
                        <div class="w-full h-4 bg-gray-200 rounded-full relative overflow-hidden max-w-md">
                            <div class="absolute top-0 left-0 h-full bg-purple-500 animate-[width_2s_infinite] w-full origin-left"></div>
                        </div>
                        <h3 class="text-2xl font-bold">ì™¼ìª½ì—ì„œ ì˜¤ë¥¸ìª½ìœ¼ë¡œ!</h3>
                        <p class="text-gray-600">ê¸°ì°¨ëŠ” ë¨¸ë¦¬ë¶€í„° ì¶œë°œí•˜ì£ ? ìš°ë¦¬ë„ ì•ì—ì„œë¶€í„° ì±„ì›Œìš”.</p>
                    </div>
                `,
                script: "ê¸°ì°¨ëŠ” ë¨¸ë¦¬ë¶€í„° ì¶œë°œí•˜ì£ ? ìš°ë¦¬ë„ ì™¼ìª½ë¶€í„° ìŠ¤í‹°ì»¤ë¥¼ ë¶™ì—¬ë³¼ê¹Œìš”?"
            },
            // Part 4: Break
            {
                part: "íœ´ì‹ (10ë¶„)",
                title: "ì ê¹ ì‰¬ì–´ê°€ëŠ” ì‹œê°„ ğŸµ",
                type: "break",
                content: `
                    <div class="flex flex-col items-center justify-center h-full">
                        <div class="text-8xl mb-6 animate-bounce">ğŸ§˜</div>
                        <h2 class="text-3xl font-bold text-green-600">ê¸°ì§€ê°œ ì­‰ì­‰!</h2>
                        <p class="text-xl mt-4">í™”ì¥ì‹¤ë„ ë‹¤ë…€ì˜¤ê³  ë¬¼ë„ ë§ˆì…”ìš”.</p>
                    </div>
                `,
                script: "ì, ìš°ë¦¬ ëª¨ë‘ ê¸°ì§€ê°œë¥¼ ì¼œë³¼ê¹Œìš”? í™”ì¥ì‹¤ ë‹¤ë…€ì˜¬ ì¹œêµ¬ëŠ” ë‹¤ë…€ì˜¤ì„¸ìš”."
            },
            // Part 5: Summary/Action
            {
                part: "ì •ë¦¬ ë° ì‹¤í–‰ (20ë¶„)",
                title: "ì§€íœ˜ì ë´‰ì˜ ë§ˆë²• (ìŠ¤ìºë‹) ğŸª„",
                type: "demo-scan",
                content: `
                    <div class="w-full max-w-3xl text-center">
                        <p class="mb-6 text-gray-600">ì§€íœ˜ì ë´‰(ë…¸ë€ìƒ‰ ë¶ˆë¹›)ì´ ì§€ë‚˜ê°€ëŠ” ê³³ì˜ ì†Œë¦¬ë¥¼ ë‚´ë³´ì„¸ìš”!</p>
                        
                        <!-- Scanning Demo Train -->
                        <div class="flex justify-center space-x-2 mb-8 bg-gray-800 p-6 rounded-xl overflow-x-auto shadow-inner" id="scan-demo-container">
                            <!-- Populated with current train state or default -->
                        </div>

                        <button onclick="startScanning()" class="bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-8 rounded-full shadow-lg text-xl flex items-center justify-center mx-auto">
                            â–¶ï¸ ì—°ì£¼ ì‹œì‘ (ìŠ¤ìºë‹)
                        </button>
                    </div>
                `,
                script: "ì»´í“¨í„°ê°€ ì½”ë“œë¥¼ ì½ëŠ” ê±¸ 'ìŠ¤ìºë‹'ì´ë¼ê³  í•´ìš”. ìš°ë¦¬ë„ ì§€íœ˜ì ë´‰ìœ¼ë¡œ ê¸°í˜¸ë¥¼ í•˜ë‚˜ì”© ì§šìœ¼ë©° ë§ˆë²•ì„ í’€ì–´ë³¼ê¹Œìš”?"
            },
            {
                part: "ì •ë¦¬ ë° ì‹¤í–‰",
                title: "ê¼¬ë§ˆ ì§€íœ˜ì ì—°ì£¼íšŒ ğŸ»",
                type: "info",
                content: `
                    <div class="grid grid-cols-2 gap-4 max-w-2xl w-full">
                        <div class="bg-purple-50 p-6 rounded-xl border border-purple-200 text-center">
                            <div class="text-4xl mb-2">ğŸ™‹</div>
                            <h3 class="font-bold">ì§€íœ˜ì</h3>
                            <p class="text-sm">ë´‰ìœ¼ë¡œ ì¹œêµ¬ì˜ ì•…ë³´ë¥¼ ì§šì–´ì¤˜ìš”.</p>
                        </div>
                        <div class="bg-orange-50 p-6 rounded-xl border border-orange-200 text-center">
                            <div class="text-4xl mb-2">ğŸ’ƒ</div>
                            <h3 class="font-bold">ì—°ì£¼ì</h3>
                            <p class="text-sm">ë´‰ì´ ê°€ë¦¬í‚¤ëŠ” ê¸°í˜¸ë¥¼ ëª¸ìœ¼ë¡œ í‘œí˜„í•´ìš”.</p>
                        </div>
                    </div>
                `,
                script: "ë‚´ê°€ ì§€íœ˜í•˜ë©´ ì¹œêµ¬ê°€ ì›€ì§ì´ê³ , ì¹œêµ¬ê°€ ì§€íœ˜í•˜ë©´ ë‚´ê°€ ì›€ì§ì—¬ìš”! ì„œë¡œ ì—­í• ì„ ë°”ê¿”ë´ìš”."
            },
            {
                part: "ì •ë¦¬ ë° ì‹¤í–‰",
                title: "ì˜¤ë¥˜ê°€ ë‚¬ì„ ë•? (ë””ë²„ê¹…) ğŸ”§",
                type: "info",
                content: `
                    <div class="flex flex-col items-center">
                        <div class="text-6xl mb-4">ğŸ¤–ğŸ’¦</div>
                        <h3 class="text-2xl font-bold text-gray-800">"ì–´? ë™ì‘ì´ í‹€ë ¸ì–´ìš”!"</h3>
                        <div class="bg-white p-6 rounded-xl border border-gray-200 shadow-sm mt-6 w-full max-w-md">
                            <ul class="text-left space-y-4">
                                <li class="flex items-center">
                                    <span class="text-green-500 mr-2">âœ”</span> ì§€íœ˜ì ë´‰ì„ <strong>ì²œì²œíˆ</strong> ì›€ì§ì—¬ì£¼ì„¸ìš”.
                                </li>
                                <li class="flex items-center">
                                    <span class="text-green-500 mr-2">âœ”</span> ì¹œêµ¬ê°€ ë‹¤ì‹œ í•  ìˆ˜ ìˆê²Œ <strong>ê¸°ë‹¤ë ¤</strong> ì£¼ì„¸ìš”.
                                </li>
                            </ul>
                        </div>
                    </div>
                `,
                script: "ì¹œêµ¬ê°€ ë™ì‘ì„ í‹€ë ¸ë‚˜ìš”? ê´œì°®ì•„ìš”! ì§€íœ˜ì ë´‰ì„ ì¡°ê¸ˆ ë” ì²œì²œíˆ ì›€ì§ì—¬ì£¼ë©´ í•´ê²°ë¼ìš”!"
            },
            // Part 6: Conclusion
            {
                part: "ë§ˆë¬´ë¦¬ (10ë¶„)",
                title: "ì˜¤ëŠ˜ ë°°ìš´ ê²ƒ ì •ë¦¬ ğŸ“",
                type: "info",
                content: `
                    <div class="space-y-6 w-full max-w-xl">
                        <div class="bg-yellow-100 p-4 rounded-lg flex items-center">
                            <div class="bg-white p-2 rounded-full mr-4 text-2xl">ğŸ–¼ï¸</div>
                            <div>
                                <h4 class="font-bold text-yellow-800">ê¸°í˜¸ (Symbol)</h4>
                                <p class="text-sm text-yellow-900">ê·¸ë¦¼ìœ¼ë¡œ í•œ ì•½ì† (ë³„=ë°˜ì§ë°˜ì§)</p>
                            </div>
                        </div>
                        <div class="bg-green-100 p-4 rounded-lg flex items-center">
                            <div class="bg-white p-2 rounded-full mr-4 text-2xl">ğŸ‘€</div>
                            <div>
                                <h4 class="font-bold text-green-800">ìŠ¤ìºë‹ (Scanning)</h4>
                                <p class="text-sm text-green-900">ì™¼ìª½ì—ì„œ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì½ê¸°</p>
                            </div>
                        </div>
                    </div>
                `,
                script: "ê·¸ë¦¼ìœ¼ë¡œ ì•½ì†í•˜ëŠ” ê±¸ ë­ë¼ê³  í–ˆì£ ? (ê¸°í˜¸!) ì°¨ë¡€ëŒ€ë¡œ ì½ëŠ” ê±´ìš”? (ìŠ¤ìºë‹!) ì°¸ ì˜í–ˆì–´ìš”!"
            },
            {
                part: "ë§ˆë¬´ë¦¬",
                title: "ë‹¤ìŒ ì‹œê°„ ì˜ˆê³ : ê·¸ë¦¼ì´ ìŒì•…ìœ¼ë¡œ! ğŸ¨ğŸ¹",
                type: "hero",
                content: `
                    <div class="text-center">
                        <div class="text-8xl mb-6">ğŸŒˆ</div>
                        <p class="text-xl">ë‹¤ìŒ ì£¼ì—ëŠ” ë‚´ê°€ ê·¸ë¦° ê·¸ë¦¼ì´<br><strong>ì§„ì§œ ë…¸ë˜ê°€ ë˜ëŠ” ë§ˆë²•</strong>ì„ ë¶€ë¦´ ê±°ì˜ˆìš”.</p>
                    </div>
                `,
                script: "ë‹¤ìŒì—ëŠ” ìš°ë¦¬ê°€ ì§ì ‘ ê·¸ë¦° ê·¸ë¦¼ì´ ì§„ì§œ ë…¸ë˜ê°€ ë˜ëŠ” ë§ˆë²•ì„ ë¶€ë ¤ë³¼ ê±°ì˜ˆìš”. ê¸°ëŒ€ë˜ë‚˜ìš”?"
            },
            {
                part: "ë§ˆë¬´ë¦¬",
                title: "ì•ˆë…•! ë‹¤ìŒì— ë˜ ë§Œë‚˜ìš” ğŸ‘‹",
                type: "hero",
                content: `
                    <div class="text-center animate-bounce-custom">
                        <div class="text-8xl text-pink-500">ğŸ’–</div>
                        <h2 class="text-3xl font-bold mt-6 text-gray-700">ìµœê³ ì˜ ì½”ë”© ì˜ˆìˆ ê°€ë“¤!</h2>
                    </div>
                `,
                script: "ë‹¤ìŒì— ë˜ ë§Œë‚˜ìš”, ê¼¬ë§ˆ ì½”ë”© ì˜ˆìˆ ê°€ë“¤! ì•ˆë…•!"
            }
        ];

        // --- State Management ---
        let currentSlideIndex = 0;
        let selectedStickerTool = null;
        let stickerTrainState = [null, null, null, null, null, null, null, null]; // 8 slots

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            initOverviewChart();
            renderSlide(currentSlideIndex);
            
            // Event Listeners
            document.getElementById('next-btn').addEventListener('click', nextSlide);
            document.getElementById('prev-btn').addEventListener('click', prevSlide);
            document.getElementById('start-lesson-btn').addEventListener('click', () => {
                document.getElementById('overview-view').classList.add('hidden');
                document.getElementById('slide-view').classList.remove('hidden');
                renderSlide(0);
            });
            document.getElementById('overview-btn').addEventListener('click', () => {
                document.getElementById('slide-view').classList.add('hidden');
                document.getElementById('overview-view').classList.remove('hidden');
            });
        });

        // --- Overview Chart (Chart.js) ---
        function initOverviewChart() {
            const ctx = document.getElementById('timeChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['ë„ì… (10ë¶„)', 'ê¸°í˜¸ ì´í•´ (20ë¶„)', 'ìŠ¤í‹°ì»¤ ì½”ë”© (30ë¶„)', 'íœ´ì‹ (10ë¶„)', 'ì •ë¦¬/ì‹¤í–‰ (20ë¶„)'],
                    datasets: [{
                        data: [10, 20, 30, 10, 20],
                        backgroundColor: ['#E5E7EB', '#FCD34D', '#F87171', '#93C5FD', '#34D399'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom', labels: { boxWidth: 12, padding: 20 } }
                    }
                }
            });
        }

        // --- Slide Rendering Engine ---
        function renderSlide(index) {
            const slide = lessonData[index];
            const contentDiv = document.getElementById('slide-content');
            const scriptDiv = document.getElementById('teacher-script-container');
            const indicator = document.getElementById('slide-indicator');
            const progressBar = document.getElementById('progress-bar');
            const progressText = document.getElementById('progress-text');

            // Fade out
            contentDiv.classList.add('opacity-0', 'slide-transition');
            
            setTimeout(() => {
                // Update Content
                contentDiv.innerHTML = `<h2 class="text-3xl font-bold mb-2 text-gray-800">${slide.title}</h2><p class="text-sm text-gray-400 mb-8 uppercase tracking-widest">${slide.part}</p>${slide.content}`;
                scriptDiv.innerHTML = slide.script;
                
                // Update Navigation
                indicator.innerText = `${index + 1} / ${lessonData.length}`;
                document.getElementById('prev-btn').disabled = index === 0;
                document.getElementById('next-btn').innerText = index === lessonData.length - 1 ? "ìˆ˜ì—… ì¢…ë£Œ" : "ë‹¤ìŒ â–¶";
                
                // Update Progress
                const percent = Math.round(((index + 1) / lessonData.length) * 100);
                progressBar.style.width = `${percent}%`;
                progressText.innerText = `${percent}%`;

                // Re-initialize dynamic elements if they exist
                if (slide.type === 'interaction-coding') {
                    renderTrainSlots('sticker-train-container', true);
                    updateToolDisplay();
                } else if (slide.type === 'demo-scan') {
                    renderTrainSlots('scan-demo-container', false);
                }

                // Fade in
                contentDiv.classList.remove('opacity-0');
            }, 300);
        }

        function nextSlide() {
            if (currentSlideIndex < lessonData.length - 1) {
                currentSlideIndex++;
                renderSlide(currentSlideIndex);
            }
        }

        function prevSlide() {
            if (currentSlideIndex > 0) {
                currentSlideIndex--;
                renderSlide(currentSlideIndex);
            }
        }

        function toggleScript() {
            const scriptDiv = document.getElementById('teacher-script-container');
            const icon = document.getElementById('script-toggle-icon');
            if (scriptDiv.classList.contains('hidden')) {
                scriptDiv.classList.remove('hidden');
                icon.innerText = 'â–²';
            } else {
                scriptDiv.classList.add('hidden');
                icon.innerText = 'â–¼';
            }
        }

        // --- Interaction Logic: Quiz ---
        function playQuiz() {
            const display = document.getElementById('quiz-display');
            display.innerHTML = '<span class="text-6xl animate-spin">ğŸ²</span>';
            
            setTimeout(() => {
                const symbols = [
                    { char: 'â­', color: 'text-yellow-400', action: 'ë°˜ì§ë°˜ì§! (ì† í”ë“¤ê¸°)' },
                    { char: 'â—', color: 'text-red-500', action: 'ì§! (ë°•ìˆ˜)' },
                    { char: 'â–²', color: 'text-blue-500', action: 'ì¿µ! (ë°œ êµ¬ë¥´ê¸°)' }
                ];
                const rand = symbols[Math.floor(Math.random() * symbols.length)];
                
                display.innerHTML = `
                    <div class="flex flex-col items-center animate-bounce-custom">
                        <span class="text-8xl ${rand.color} drop-shadow-md">${rand.char}</span>
                        <span class="text-xl font-bold mt-4 text-gray-700">${rand.action}</span>
                    </div>
                `;
            }, 1000);
        }

        // --- Interaction Logic: Sticker Coding (Train) ---
        function setStickerTool(symbol) {
            selectedStickerTool = symbol;
            updateToolDisplay();
        }

        function updateToolDisplay() {
            const display = document.getElementById('current-tool-display');
            if (!display) return;
            
            if (selectedStickerTool) {
                display.innerHTML = `ì„ íƒëœ ë„êµ¬: <span class="text-2xl">${selectedStickerTool}</span> (í´ë¦­í•˜ì—¬ ê¸°ì°¨ì— ë„£ìœ¼ì„¸ìš”)`;
            } else {
                display.innerHTML = `ì„ íƒëœ ë„êµ¬: <span class="text-gray-500">ì§€ìš°ê°œ</span> (í´ë¦­í•˜ì—¬ ì§€ìš°ì„¸ìš”)`;
            }
        }

        function renderTrainSlots(containerId, isInteractive) {
            const container = document.getElementById(containerId);
            if (!container) return;
            container.innerHTML = '';

            stickerTrainState.forEach((val, idx) => {
                const slot = document.createElement('div');
                // Styling for the train car
                slot.className = `w-16 h-20 bg-white border-2 border-gray-300 rounded-lg flex items-center justify-center text-3xl shadow-sm train-car relative`;
                if (!isInteractive) { // Dark mode for demo train
                    slot.className = `w-16 h-20 bg-gray-700 border-2 border-gray-600 rounded-lg flex items-center justify-center text-3xl shadow-sm relative`;
                }

                // Car Number
                const num = document.createElement('span');
                num.innerText = idx + 1;
                num.className = "absolute top-1 left-2 text-xs text-gray-400";
                slot.appendChild(num);

                // Connector
                if (idx < 7) {
                    const connector = document.createElement('div');
                    connector.className = "absolute -right-3 top-1/2 w-4 h-1 bg-gray-400 z-0";
                    // Only append if not the last one, handled via CSS spacing usually but visual here
                }

                // Content
                const contentSpan = document.createElement('span');
                if (val === 'â­') { contentSpan.innerText = 'â­'; contentSpan.className = "text-yellow-400 drop-shadow-sm"; }
                else if (val === 'â—') { contentSpan.innerText = 'â—'; contentSpan.className = "text-red-500 drop-shadow-sm"; }
                else if (val === 'â–²') { contentSpan.innerText = 'â–²'; contentSpan.className = "text-blue-500 drop-shadow-sm"; }
                slot.appendChild(contentSpan);

                // Interaction
                if (isInteractive) {
                    slot.onclick = () => {
                        stickerTrainState[idx] = selectedStickerTool;
                        renderTrainSlots(containerId, true); // Re-render to show change
                    };
                } else {
                    slot.id = `scan-slot-${idx}`; // ID for animation
                }

                container.appendChild(slot);
            });
        }

        // --- Interaction Logic: Scanning Demo ---
        function startScanning() {
            let index = 0;
            const interval = setInterval(() => {
                // Clear previous highlights
                for (let i = 0; i < 8; i++) {
                    const slot = document.getElementById(`scan-slot-${i}`);
                    if (slot) slot.classList.remove('active-scan');
                }

                if (index >= 8) {
                    clearInterval(interval);
                    return;
                }

                // Highlight current
                const currentSlot = document.getElementById(`scan-slot-${index}`);
                if (currentSlot) {
                    currentSlot.classList.add('active-scan');
                    
                    // Simple sound effect visualization (pulse) if item exists
                    if (stickerTrainState[index]) {
                        currentSlot.classList.add('pulse-effect');
                        setTimeout(() => currentSlot.classList.remove('pulse-effect'), 500);
                    }
                }
                
                index++;
            }, 800); // Speed of scanning
        }

    </script>
</body>
</html>